<!-- templates/courses/quiz_result.html -->
{% extends 'base.html' %}
{% block title %}Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±{% endblock %}

{% block content %}

{% comment %}
    CRITICAL FIX: Replaced the non-existent `set` tag with Django's `with` tag.
    The `with` tag creates a context block. We define the variables for each
    score range and include the display logic within that block.
{% endcomment %}

{% if submission.score >= 80 %}
    {% with primary_color='green' message_icon='ğŸ‰' message_title='Ø£Ø¯Ø§Ø¡ Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠ!' message_subtitle='Ù„Ù‚Ø¯ Ø£ØªÙ‚Ù†Øª Ù…Ø­ØªÙˆÙ‰ Ù‡Ø°Ù‡ Ø§Ù„ÙˆØ­Ø¯Ø©. Ø¹Ù…Ù„ Ø±Ø§Ø¦Ø¹!' %}
        {% include 'courses/partials/quiz_result_card.html' %}
    {% endwith %}
{% elif submission.score >= 50 %}
    {% with primary_color='yellow' message_icon='ğŸ‘' message_title='Ø¹Ù…Ù„ Ø¬ÙŠØ¯!' message_subtitle='Ù„Ø¯ÙŠÙƒ ÙÙ‡Ù… Ø¬ÙŠØ¯ Ù„Ù„Ù…Ø§Ø¯Ø©ØŒ Ù…Ø¹ Ù…Ø¬Ø§Ù„ Ø¨Ø³ÙŠØ· Ù„Ù„ØªØ­Ø³ÙŠÙ†.' %}
        {% include 'courses/partials/quiz_result_card.html' %}
    {% endwith %}
{% else %}
    {% with primary_color='red' message_icon='ğŸ“–' message_title='ÙØ±ØµØ© Ù„Ù„ØªØ¹Ù„Ù…' message_subtitle='Ù„Ø§ ØªÙ‚Ù„Ù‚ØŒ ÙƒÙ„ Ø®Ø·Ø£ Ù‡Ùˆ ÙØ±ØµØ© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„ØªØ­Ø³Ù†.' %}
        {% include 'courses/partials/quiz_result_card.html' %}
    {% endwith %}
{% endif %}

{% endblock %}